<h1>Collection Objects</h1>
<%= form_tag collection_objects_path, method: :get do %>
  <%= text_field_tag :query, params[:query], class: 'form-control collection_object_search', autocomplete: :off %>
  <%= submit_tag 'Search' %>
<% end %>
<table>
	<thead>
		<tr>
			<th>Catalog Number</th>
			<th>Type Status</th>
			<th>Scientific Name</th>
			<th>Higher Geography</th>
		</tr>
	</thead>
	<tbody>
		<% if @collection_objects.size == 0 %>
			<tr>
				<td colspan="4">No records uploaded</td>
			</tr>
		<% else %>
			<%= paginate @collection_objects %>
			<% @collection_objects.each do |co| %>
				<tr>
					<td><%= link_to co.catalog_number, co %></td>
					<td><%= co.dwc_identification&.dwc_type_status %></td>
					<td><%= co.dwc_taxon.dwc_scientific_name %></td>
					<td>
					  <%= co.dwc_location.dwc_locality %>
					  <%= ", " if co.dwc_location.dwc_locality && co.dwc_location.dwc_higher_geography %>
					  <%= co.dwc_location.dwc_higher_geography %>
					</td>
				</tr>
			<% end %>
		<% end %>
	</tbody>
</table>